<div class="page-container">
  <div class="page-container-details">
    <div class="page-container-details-header">
      <div class="tab-wrapper">
        <p-tabView class="mw-tabview" [(activeIndex)]="selectedIndex" (onChange)="getCollections(size)">
          <p-tabPanel>
            <ng-template pTemplate="header"
              ><span class="p-tabview-title-container"
                ><span class="p-tabview-title">MY WORKSPACE</span
                ><span class="p-tabview-pill">{{ nonPublishedCounts.totalCatelog || 0 }}</span></span
              >
            </ng-template>
          </p-tabPanel>
          <p-tabPanel>
            <ng-template pTemplate="header"
              ><span class="p-tabview-title-container"
                ><span class="p-tabview-title">PUBLISHED</span
                ><span class="p-tabview-pill">{{ publishedCounts.totalCatelog || 0 }}</span></span
              ></ng-template
            >
          </p-tabPanel>
        </p-tabView>
      </div>
      <div class="search-wrapper flex-grow-1 max-w-15rem">
        <div class="field mb-0">
          <div class="cstFld-search searchBtn">
            <input
              type="text"
              [(ngModel)]="currentSearch"
              (input)="searchApiCatalogCase($event.target)"
              pInputText
              placeholder="Search"
              class="w-full field-h-40 searchField"
            />
            <div class="absolute right-0 top-0 h-full">
              <button type="button" pButton pRipple icon="pi pi-search" class="h-full fld-btn"></button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="stats-CardWrapp">
      <div class="dash-InfoStats-Item min-W">
        <div class="flex wrapIn">
          <div class="flex c-pointer" [class.card-green]="searchCard === 'Catalogs'" (click)="collectionChange('Catalogs')">
            <div class="iconWrap flex align-items-center justify-content-center">
              <div class="relative z-1">
                <!-- <div class="img-icon line-height-0 ">
                  <img class="iconImg" src="assets/images/dash-icon-File-plus.svg" alt="" />
                </div> -->
                <i class="iconText icon tile icon-color-voilet-dark"></i>
              </div>
            </div>
            <div class="cont-col align-self-center">
              <div class="card-label color-DimGray">Catalog</div>
              <div class="card-lg-text">{{ apiCatalogCount?.totalCatelog }}</div>
            </div>
          </div>

          <div class="subInfo-wrapp">
            <div class="card-countInfo">
              <ul class="list-countSub-Info">
                <li>
                  <div class="stats-subInfo c-pointer" [class.card-green]="searchCard === 'Active'" (click)="collectionChange('Active')">
                    <div class="sub-col-Icon">
                      <i class="sub-iconText icon circle-check icon-color-green"></i>
                    </div>
                    <div class="sub-col-Info">
                      <div class="sub-textSm color-DimGray">Active</div>
                      <h5 class="sub-textLg">{{ apiCatalogCount?.active }}</h5>
                    </div>
                  </div>
                </li>
                <li>
                  <div
                    class="stats-subInfo c-pointer"
                    [class.card-green]="searchCard === 'Inactive'"
                    (click)="collectionChange('Inactive')"
                  >
                    <div class="sub-col-Icon">
                      <i class="sub-iconText icon octagon-cancel icon-color-red"></i>
                    </div>
                    <div class="sub-col-Info">
                      <div class="sub-textSm color-DimGray">Inactive</div>
                      <h5 class="sub-textLg">{{ apiCatalogCount?.inActive }}</h5>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="stats-subInfo c-pointer" [class.card-green]="searchCard === 'Ageing'" (click)="collectionChange('Ageing')">
                    <div class="sub-col-Icon">
                      <i class="sub-iconText icon m-dashboard icon-color-yellow"></i>
                    </div>
                    <div class="sub-col-Info">
                      <div class="sub-textSm color-DimGray">Ageing</div>
                      <h5 class="sub-textLg">{{ apiCatalogCount?.ageing }}</h5>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="page-container-details-card">
      <div class="card-wrapper flex-wrap">
        <div class="card over-flow-hidden c-pointer" [class.card-green]="searchCard === 'Catalogs'" (click)="collectionChange('Catalogs')">
          <div class="card-inner card-inner-circle-orange">
            <div class="card-content">
              <span class="card-icon icon-color-orange"><i class="icon tile"></i></span>
              <span class="card-text"
                ><span class="c-text">Catalog</span><span class="c-number text-black">{{ apiCatalogCount?.totalCatelog }}</span></span
              >
            </div>
          </div>
        </div>
        <div class="card over-flow-hidden c-pointer" [class.card-green]="searchCard === 'Active'" (click)="collectionChange('Active')">
          <div class="card-inner card-inner-circle-green">
            <div class="card-content">
              <span class="card-icon icon-color-green"><i class="icon circle-check"></i></span>
              <span class="card-text"
                ><span class="c-text">Active</span><span class="c-number text-black">{{ apiCatalogCount?.active }}</span></span
              >
            </div>
          </div>
        </div>
        <div class="card over-flow-hidden c-pointer" [class.card-green]="searchCard === 'Inactive'" (click)="collectionChange('Inactive')">
          <div class="card-inner card-inner-circle-red">
            <div class="card-content">
              <span class="card-icon icon-color-red"><i class="icon octagon-cancel"></i></span>
              <span class="card-text"
                ><span class="c-text">Inactive</span><span class="c-number text-black">{{ apiCatalogCount?.inActive }}</span></span
              >
            </div>
          </div>
        </div>
        <div class="card over-flow-hidden c-pointer" [class.card-green]="searchCard === 'Ageing'" (click)="collectionChange('Ageing')">
          <div class="card-inner card-inner-circle-violet">
            <div class="card-content">
              <span class="card-icon icon-color-voilet-dark"><i class="icon double-clip"></i></span>
              <span class="card-text"
                ><span class="c-text">Ageing</span><span class="c-number text-black">{{ apiCatalogCount?.ageing }}</span></span
              >
            </div>
          </div>
        </div>
      </div>
    </div> -->
  </div>
  <div class="page-container-data flex flex-column">
    <div class="relative flex-1 flex flex-column">
      <ng-scrollbar [appearance]="'standard'" class="flex-1" (reachedBottom)="onScrollingFinished()" [reachedOffset]="200">
        <div class="scroll-Inside-PD">
          <div class="grid-card-wrapper">
            <div class="card-create-new-button" id="cardT">
              <div class="wrap-in">
                <div class="button-text">Create New</div>
                <button (click)="createNewVersion()" type="button" class="button-Add mx-auto">
                  <i class="pi pi-plus"></i>
                </button>
              </div>
            </div>
            <div
              *ngFor="let card of apiCollection; let i = index"
              class="api-card-repoItem card-style2 c-pointer"
              (click)="opensidebarclick(card)"
            >
              <div class="card-bodyWrap">
                <div class="card-header">
                  <div class="card-title t-transform-up" pTooltip="{{ card.name }}" tooltipPosition="top">{{ card.name }}</div>
                  <ul class="card-action-list">
                    <li>
                      <!-- <span class="btn-icon c-pointer" (click)="dropdownclick($event); card.isFavourite = !card.isFavourite"> -->
                      <span class="btn-icon c-pointer" (click)="setFavorities($event, card)"
                        ><i class="icon pi" [ngClass]="card.isFavourite ? 'pi-heart-fill' : 'pi-heart'"></i
                      ></span>
                    </li>
                    <!-- <li>
                      <span (click)="edit(card)" class="btn-icon c-pointer"><i class="icon pi pi-pencil"></i></span>
                    </li> -->
                    <li (click)="menuItemClick($event); menu.toggle($event)">
                      <span class="btn-icon c-pointer"><i class="icon ellipsis-vertical"></i></span>
                    </li>
                    <p-menu
                      [showTransitionOptions]="'0ms'"
                      ngClass="runs-overlay"
                      appendTo="body"
                      [hideTransitionOptions]="'0ms'"
                      #menu
                      [popup]="true"
                      [model]="menuitems(card)"
                    ></p-menu>
                  </ul>
                </div>
                <div class="card-row-dropdown">
                  <!-- <p-dropdown
                    (click)="dropdownclick($event)"
                    [options]="dropdown"
                    optionLabel="name"
                    styleClass="w-full sm-field repo-dropD-W"
                  >
                  </p-dropdown> -->
                  <!-- <p-dropdown
                      (click)="dropdownclick($event)"
                      [options]="dropdown.versions"
                      optionLabel="name"
                      [(ngModel)]="card.versions"
                      styleClass="card-p-dropdown"
                    >
                    </p-dropdown> -->
                </div>
              </div>
              <div class="card-footerWrap">
                <span class="tag uppercase" [ngClass]="card.architecture">{{ card.architecture }}</span>
                <div class="card-details line-height-1"><span class="text-number"> 12 </span><span class="text-label">API</span></div>
              </div>
            </div>
          </div>
        </div>
      </ng-scrollbar>
    </div>
  </div>
</div>
<p-sidebar [(visible)]="openSidebar" [styleClass]="'drawer-wrapper ' + sidebarclass" [blockScroll]="true" position="right">
  <ng-container [ngSwitch]="drawercom">
    <api-catalog-detail class="block h-full" (cancel)="removesidebar()" *ngSwitchCase="'detail'" [card]="itemdetail"> </api-catalog-detail>
    <app-create-api-catalog class="block h-full" (cancel)="removesidebar()" *ngSwitchCase="'createApiCatalog'"> </app-create-api-catalog>
  </ng-container>
</p-sidebar>
